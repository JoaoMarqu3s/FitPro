<div class="border-b border-gray-200">
    <nav class="flex space-x-0">
        <a href="{{ url_for('main.index') }}" id="tab-dashboard" class="tab-button flex-1 py-4 px-4 text-center font-medium">
            <div class="flex items-center justify-center space-x-2"><span>🏠</span><span>Dashboard</span></div>
        </a>
        <a href="{{ url_for('main.lista_alunos') }}" id="tab-alunos" class="tab-button flex-1 py-4 px-4 text-center font-medium">
            <div class="flex items-center justify-center space-x-2"><span>👤</span><span>Alunos</span></div>
        </a>
        <a href="{{ url_for('main.frequencia') }}" id="tab-frequencia" class="tab-button flex-1 py-4 px-4 text-center font-medium">
             <div class="flex items-center justify-center space-x-2"><span>📊</span><span>Frequência</span></div>
        </a>
        <a href="{{ url_for('main.matriculas') }}" id="tab-matricula" class="tab-button flex-1 py-4 px-4 text-center font-medium">
             <div class="flex items-center justify-center space-x-2"><span>📝</span><span>Matrícula</span></div>
        </a>
        <a href="{{ url_for('main.treinos') }}" id="tab-treinos" class="tab-button flex-1 py-4 px-4 text-center font-medium">
             <div class="flex items-center justify-center space-x-2"><span>🏋️</span><span>Treinos</span></div>
        </a>

        {% if current_user.is_authenticated and current_user.role == 'admin' %}
        
        <a href="{{ url_for('main.instrutores') }}" id="tab-tercerizados" class="tab-button flex-1 py-4 px-4 text-center font-medium">
            <div class="flex items-center justify-center space-x-2"><span>🤝</span><span>Tercerizados</span></div>
        </a>
        <a href="{{ url_for('main.planilhas') }}" id="tab-planilhas" class="tab-button flex-1 py-4 px-4 text-center font-medium">
            <div class="flex items-center justify-center space-x-2"><span>📈</span><span>Planilhas</span></div>
        </a>
        <a href="{{ url_for('main.gerenciar_avisos') }}" id="tab-avisos" class="tab-button flex-1 py-4 px-4 text-center font-medium">
            <div class="flex items-center justify-center space-x-2"><span>📢</span><span>Avisos</span></div>
        </a>
        <a href="{{ url_for('main.financeiro') }}" id="tab-financeiro" class="tab-button flex-1 py-4 px-4 text-center font-medium">
            <div class="flex items-center justify-center space-x-2"><span>💰</span><span>Financeiro</span></div>
        </a>
        {% endif %}
    </nav>
</div>

<script>
    const endpoint = "{{ request.endpoint }}";
    let activeButtonId;

    if (endpoint === 'main.index') {
        activeButtonId = 'tab-dashboard';
    } else if (endpoint.includes('aluno')) {
        activeButtonId = 'tab-alunos';
    } // ... outras condições ...
    else if (endpoint.includes('frequencia')) { activeButtonId = 'tab-frequencia'; } 
    else if (endpoint.includes('matricula')) { activeButtonId = 'tab-matricula'; } 
    else if (endpoint.includes('treinos')) { activeButtonId = 'tab-treinos'; } 
    else if (endpoint.includes('financeiro')) { activeButtonId = 'tab-financeiro'; } 
    else if (endpoint.includes('instrutores')) { activeButtonId = 'tab-tercerizados'; } 
    else if (endpoint.includes('planilhas')) { activeButtonId = 'tab-planilhas'; } 
    // ===== LÓGICA ADICIONADA PARA O NOVO LINK =====
    else if (endpoint.includes('aviso')) { 
        activeButtonId = 'tab-avisos'; 
    }

    const allTabs = document.querySelectorAll('.tab-button');
    allTabs.forEach(tab => {
        tab.classList.add('bg-gray-100', 'text-gray-600', 'hover:bg-gray-200');
        tab.classList.remove('bg-blue-600', 'text-white');
    });

    if (activeButtonId) {
        const activeButton = document.getElementById(activeButtonId);
        if (activeButton) {
            activeButton.classList.remove('bg-gray-100', 'text-gray-600', 'hover:bg-gray-200');
            activeButton.classList.add('bg-blue-600', 'text-white');
        }
    }
</script>